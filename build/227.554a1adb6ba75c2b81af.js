"use strict";(self.webpackChunkairnet_test=self.webpackChunkairnet_test||[]).push([[227],{2227:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(4848),i=n(1238),o=n(6540),a=n(1468),s=n(8581),c=n(7594),l=n(2824),u=n(5915),d=n(5016),f=n(916),h=n(6272),g=n(1857),m=n(2440),x=n(4679),j=n(8765),v=n(1703),S=n(4076),p=n(6578),k=n(4765),D=n(3204),z=n(3971),b=n(8340),y=n(3295),C=function(){var e=(0,a.d4)((function(e){return e.user})).selectedDay;return(0,r.jsxs)(z.a,{children:[(0,r.jsx)(b.D,{fontSize:"fontSizeL",textTransform:"uppercase",children:"Задачи на ".concat(e)}),(0,r.jsx)(y.s,{size:"xl"})]})},M=n(6287),T=n(981),w=n(7500),I=n(6170),L=n(3842),O=n(5979),A=n(7453),X=n(2037),N=function(){var e,t=(0,o.useRef)(null),n=(0,a.wA)(),i=(0,a.d4)((function(e){return e.user})),s=i.tasks,c=i.selectedDay,l=s.find((function(e){return e.date===c}));return(0,o.useEffect)((function(){var e=localStorage.getItem(c);if(e&&!l){var t=JSON.parse(e);n(X.X.renderActiveTasks(t.active))}}),[]),(0,r.jsxs)(M.az,{children:[(0,r.jsx)(b.D,{fontSize:"fontSizeM",children:"Активные"}),(0,r.jsx)(T.B8,{spacing:3,marginTop:"1rem",marginBottom:"2rem",children:null===(e=null==l?void 0:l.active)||void 0===e?void 0:e.map((function(e,t){return(0,r.jsxs)(T.ck,{fontSize:"fontSizeM",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"2rem",children:[(0,r.jsxs)(u.s,{alignItems:"center",children:[(0,r.jsx)(T.kp,{as:A.hgV,color:"secondary",fontSize:"fontSizeL"}),(0,r.jsx)(w.E,{noOfLines:1,children:e})]}),(0,r.jsxs)(u.s,{alignItems:"center",gap:"1rem",children:[(0,r.jsx)(I.K,{variant:"outline",colorScheme:"teal","aria-label":"Mark task as done",fontSize:"fontSizeL",title:"Пометить выполненным",onClick:function(){return function(e){n(X.X.markTaskAsDone(e)),n(X.X.deleteActiveTask(e));var t=localStorage.getItem(c);if(t){var r=JSON.parse(t);r.active&&(r.active=r.active.filter((function(t,n){return n!==e}))),localStorage.setItem(c,JSON.stringify(r)),0===r.active.length&&localStorage.removeItem(c)}}(t)},icon:(0,r.jsx)(A.g9_,{})}),(0,r.jsx)(I.K,{variant:"solid",colorScheme:"red","aria-label":"Delete task",fontSize:"fontSizeL",title:"Удалить",onClick:function(){return function(e){n(X.X.deleteActiveTask(e));var t=localStorage.getItem(c);if(t){var r=JSON.parse(t);r.active&&(r.active=r.active.filter((function(t,n){return n!==e}))),localStorage.setItem(c,JSON.stringify(r)),0===r.active.length&&localStorage.removeItem(c)}}(t)},icon:(0,r.jsx)(A.m6K,{})})]})]},e)}))}),(0,r.jsxs)(u.s,{gap:"1rem",children:[(0,r.jsx)(L.p,{ref:t,height:"3rem",fontSize:"fontSizeM",focusBorderColor:"secondary",placeholder:"Напишите задачу"}),(0,r.jsx)(O.$,{variant:"outline",colorScheme:"blue",height:"3rem",onClick:function(){t.current.value&&n(X.X.addActiveTask(t.current.value)),t.current.value=""},children:"Добавить"}),(0,r.jsx)(O.$,{colorScheme:"blue",height:"3rem",onClick:function(){l&&(localStorage.setItem(c,JSON.stringify({active:l.active})),t.current.value="",alert("Задача сохранена в Local Storage"))},children:"Сохранить"})]})]})},_=(0,o.memo)((function(){var e,t=(0,a.wA)(),n=(0,a.d4)((function(e){return e.user})),i=n.tasks,o=n.selectedDay,s=i.find((function(e){return e.date===o}));return(0,r.jsxs)(M.az,{children:[(0,r.jsx)(b.D,{fontSize:"fontSizeM",children:"Выполненные"}),(0,r.jsx)(T.B8,{spacing:3,marginTop:"1rem",children:null===(e=null==s?void 0:s.done)||void 0===e?void 0:e.map((function(e,n){return(0,r.jsxs)(T.ck,{fontSize:"fontSizeM",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"2rem",children:[(0,r.jsxs)(u.s,{alignItems:"center",children:[(0,r.jsx)(T.kp,{as:A.g9_,color:"success",fontSize:"fontSizeL"}),(0,r.jsx)(w.E,{noOfLines:1,as:"del",children:e})]}),(0,r.jsxs)(u.s,{alignItems:"center",gap:"1rem",children:[(0,r.jsx)(I.K,{variant:"outline",colorScheme:"blue","aria-label":"Mark task as done",fontSize:"fontSizeL",title:"Пометить активным",onClick:function(){return function(e){t(X.X.markTaskAsActive(e)),t(X.X.deleteDoneTask(e))}(n)},icon:(0,r.jsx)(A.hgV,{})}),(0,r.jsx)(I.K,{variant:"solid",colorScheme:"red","aria-label":"Delete task",fontSize:"fontSizeL",title:"Удалить",onClick:function(){return function(e){return t(X.X.deleteDoneTask(e))}(n)},icon:(0,r.jsx)(A.m6K,{})})]})]},e)}))})]})})),K=function(){return(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(C,{}),(0,r.jsx)(p.b,{children:(0,r.jsxs)(k.B,{divider:(0,r.jsx)(D.G,{}),spacing:"10",children:[(0,r.jsx)(N,{}),(0,r.jsx)(_,{})]})})]})},B=n(6094),F=n(7952),J=n(5296),Y=n(8387),$=n(505),E=function(e){var t=e.isOpen,n=e.onClose,i=e.children;return(0,r.jsxs)(B.aF,{size:"4xl",onClose:n,isOpen:t,isCentered:!0,children:[(0,r.jsx)(F.m,{}),(0,r.jsxs)(J.$,{children:[(0,r.jsx)(Y.c,{marginTop:"1rem",children:i}),(0,r.jsx)($.j,{children:(0,r.jsx)(O.$,{onClick:n,children:"Закрыть"})})]})]})},U=["ПН","ВТ","СР","ЧТ","ПТ","СБ","ВС"],W=(0,o.memo)((function(){return(0,r.jsx)(s.d,{children:(0,r.jsx)(c.Tr,{h:"6rem",children:U.map((function(e){return(0,r.jsx)(l.Th,{color:"secondary",fontSize:"fontSizeM",textAlign:"center",borderBottom:"solid 1px lightgray",_notFirst:{borderLeft:"solid 1px lightgray"},children:e},e)}))})})})),G=(0,o.memo)((function(e){var t=e.renderMonthName,n=e.previous,i=e.next;return(0,r.jsxs)(u.s,{h:"6rem",fontSize:"fontSizeM",bg:"primary",color:"textPrimaryLight",textTransform:"uppercase",fontWeight:"bold",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(j.Y,{boxSize:26,_hover:{cursor:"pointer"},onClick:n}),(0,r.jsx)("span",{children:t}),(0,r.jsx)(v.v,{boxSize:26,_hover:{cursor:"pointer"},onClick:i})]})})),H=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},P=(0,o.memo)((function(e){var t=e.date,n=e.month,i=e.selected,o=Array.from({length:7},(function(e,r){var i=new Date(t);return i.setDate(i.getDate()+r),{name:i.toLocaleDateString("en-US",{weekday:"short"}).substring(0,1),number:i.getDate(),isCurrentMonth:i.getMonth()===n.getMonth(),isToday:H(i,new Date),date:i}}));return(0,r.jsx)(c.Tr,{children:o.map((function(e){var t=e.date,n=e.isCurrentMonth,o=e.isToday,a=(e.name,e.number);return(0,r.jsx)(d.Td,{"data-date":t,className:"".concat(o?"FZXv7HKi":""," \n          ").concat(n?"":"mjXlHtGq"," \n          ").concat(H(t,i)?"PAOt_QXD":"","\n          "),h:"10rem",borderBottom:"solid 1px lightgray",_notFirst:{borderLeft:"solid 1px lightgray"},cursor:"pointer",_hover:{backgroundColor:"lightgray"},children:a},a)}))})})),V=new Date,Z=function(){var e=(0,o.useState)(V),t=e[0],n=e[1],i=(0,o.useState)(V),s=i[0],c=i[1],l=(0,a.wA)(),u=(0,f.j)(),d=u.isOpen,j=u.onOpen,v=u.onClose,S=(0,o.useCallback)((function(){n((function(e){var t=new Date(e);return t.setMonth(t.getMonth()-1),t}))}),[]),p=(0,o.useCallback)((function(){n((function(e){var t=new Date(e);return t.setMonth(t.getMonth()+1),t}))}),[]),k=t.toLocaleDateString(void 0,{month:"long",year:"numeric"});return(0,r.jsxs)(h.m,{maxW:"90rem",children:[(0,r.jsx)(G,{renderMonthName:k,previous:S,next:p}),(0,r.jsx)(g.K,{bg:"backgroundContent",children:(0,r.jsxs)(m.X,{children:[(0,r.jsx)(W,{}),(0,r.jsx)(x.N,{onClick:function(e){var t=e.target;if("TD"===t.tagName){var r=new Date(t.dataset.date);c(r);var i=new Date(r.getTime());n(i),j();var o=r.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),a=(r.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),s=r.getFullYear(),u="".concat(o,"-").concat(a,"-").concat(s);l(X.X.setDay(u))}},children:function(){var e=[],n=!1,i=new Date(t);for(i.setDate(1),i.setDate(i.getDate()-i.getDay()+1);!n;)e.push((0,r.jsx)(P,{date:new Date(i),month:t,selected:s},i.getTime())),i.setDate(i.getDate()+7),n=e.length>1&&i.getMonth()!==t.getMonth();return e}()})]})}),(0,r.jsx)(E,{isOpen:d,onClose:v,children:(0,r.jsx)(K,{})})]})};const q=function(){return(0,r.jsx)(i.o,{maxW:"100%",h:"100%",children:(0,r.jsx)(Z,{})})}}}]);